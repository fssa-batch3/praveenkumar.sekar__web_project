<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Catamaran:wght@100;200;300;400;500;600;700;800;900&family=Neuton:ital,wght@0,200;0,300;0,400;0,700;0,800;1,400&family=Telex&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="../../assets/css/normalize.css">
        <link rel="stylesheet" href="../../assets/css/header.css">
        <link rel="stylesheet" href="../../assets/css/Sign up.css">
        <link rel="stylesheet" href="../../assets/css/normalize.css">
        <link rel="stylesheet" href="../../assets/css/footer.css">
        <title>Sign Up</title>
    </head>

    <body>
        <header>
            <div class="container">
                <img src="../../assets/Images/v1033-a-15-a-removebg-preview - Copy.svg" width="100px" alt="logo" >
                    <nav>
                    <ul>
                        <li><a href="../../index.html">Home</a></li>
                        <li><a href="../products/product_list.html">Products</a></li>
                        <li><a href="../../assets/css/Sign up.html">Log In</a></li>
                        <li><a href="../Cart/cart.html"><img src="../../assets/Images/icon-cart.svg" alt="cart"></a></li>
                    </ul>
                    </nav>
        </header>
        <div class="form-container">
        <form role="form" onsubmit="signUp(event)">
            <img src="../../assets/Images/v1033-a-15-a-removebg-preview - Copy.svg" width="100px" alt="logo">
        <h1>Register</h1>
        <div class="name">
            <label>Name:</label><br>
            <input type="text" id="name">
            <br><br>
        </div>
        <div class="phone">
            <label>Phone Number:</label><br>
            <input type="number" id="phone">
            <br><br>
        </div>
        <div class="email">
            <label>Email:</label><br>
            <input type="email" id="email">
            <br><br>
        </div>
        <div class="address">
            <label>Address:</label><br>
            <input type="text" id="address"/>
            <br><br>
        </div>
        <div class="password" id="test">
            <label>Password:</label><br>
            <input type="password" id="password" value="*****">
            <br><br>
        </div>
        <div><button type="submit">Register</button></div><br>   
            <a href="./Log in.html"><p>Already have an account? Sign in</p></a>
        </form>
        </div>
        <footer>
            <div class="foot">
                <h1>HOME BAKERY</h1>
                <div class="list">
                <ul>
                    <li><h2>ABOUT</h2></li>
                    <li><a href="../../index.html">Homepage</a></li>
                    <li><a href="../../../../index.html#about">About Us</a></li>
                    <li><a href="../../../../index.html#history">Our History</a></li>
                    <li><a href="../products/product_list.html">Products</a></li>
                </ul>
                <ul>
                    <li><h2>PRODUCTS</h2></li>
                    <li><a href="../products/product_list.html">Breads</a></li>
                    <li><a href="../products/product_list.html">Cakes</a></li>
                    <li><a href="../products/product_list.html">Breakfast Pastries</a></li>
                </ul>
                <ul>
                    <li><h2>FOLLOW US</h2></li>
                    <a href="https://www.instagram.com/"><li><img src="../../assets/Images/instagram.svg" width="40px" alt="Instagram">Instagram</li></a>
                    <a href="https://twitter.com/"><li><img src="../../assets/Images/twitter.svg" width="40px" alt="Twitter">Twitter</li></a>
                    <a href="https://github.com/"><li><img src="../../assets/Images/github.svg" width="40px" alt="GitHub">GitHub</li></a>
                </ul>
                </div>
            </div>

        </footer>


        <script>
        
        // function signup(){

        const signUp = e => {
            let name = document.getElementById("name").value,
                phone = document.getElementById("phone").value,
                email = document.getElementById("email").value,
                address = document.getElementById("address").value,
                password = document.getElementById("password").value;

            let user_cred = JSON.parse(localStorage.getItem('user_cred')) || [];

            let exist = user_cred.length &&
                JSON.parse(localStorage.getItem('user_cred')).some(data =>
                    data.email.toLowerCase() == email.toLowerCase() ||
                    data.phone.toLowerCase() == phone.toLowerCase()
                );

            if(!exist){
                user_cred.push({name,phone,email,address,password});

                localStorage.setItem('user_cred',JSON.stringify(user_cred));
                console.log(localStorage.getItem('user_cred'));
                document.querySelector('form').reset();
                document.getElementById('email').focus();
                document.getElementById('phone').focus();
                alert('Account created successfully');
                location.href = "../../index.html";
            }

            else {
                alert('Sorry the User already exists! \n Try with a new Email or Phone Number.');
                document.querySelector('form').reset();
            }
            e.preventDefault();   
        } 

        // function sign in()
        // const signIn = e =>{
        //     let email = document.getElementById('email').value,
        //         password = document.getElementById('password').value;
            
        //     let user_cred = JSON.parse(localStorage.getItem('user_cred')) || [];

        //     let exist = user_cred.length &&
        //     JSON.parse(localStorage.getItem('user_cred')).some(data => data.email.toLowerCase() == email
        //     && data.password.toLowerCase() ==password);

        //     if(!exist){
        //         alert("Incorrect Login Credentials");
        //     }

        //     else{
        //         alert("Your Login is Successful");
        //         location.href = "../../index.html";
        //     }
        //     e.preventDefault();
        // }

        </script>

    </body>
</html>